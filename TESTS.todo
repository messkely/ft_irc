# success indicates the server responds adequatly to message [ makes changes / sends replies]
# failure indicates the server failes to respond adequetly to message [ no changes / makes incomplete changes / does not reply / missing some replies]
# if message placed in failure, a list of reasons must be supplied
# the ; separator means the test requires more than a message
# n(num) indicates a different client

% JOIN
	# if the limit flag is set, a request to JOIN a channel is dropped if that
	# channel has already reached the limit

	# if the key flag is set, a JOIN request is dropped if the channel key was not
	# proivded or incorrect
	- PERFORMED TESTS
		! 	SUCCESS
			JOIN
			JOIN #
			JOIN #pele [topic sent upon joining]
			JOIN #& ; JOIN #plato ; JOIN &plato
			JOIN pele
			JOIN #pele ; JOIN #pele
			n1 JOIN #pele ; n1 ctrl+c ; n2 JOIN #pele [n2 made operator]
			n1 JOIN #pele ; n1 QUIT leaving ; n2 JOIN #pele [n2 made operator]
			n1 JOIN #pele ; n2 JOIN #pele ; n1 ctrl+c [n2 made operator]
			n1 JOIN #pele ; n2 JOIN #plato ; n2 JOIN #pele ; n1 JOIN #plato ; n1 ctrl+c [n2 made operator for #pele]
			n1 JOIN #pele/plato ; n2 JOIN #pele/plato ; n1 ctrl+c ; n2 ctrl+c ; n3 JOIN #pele/plato [n3 made operator for #pele/plato]
			n1 JOIN #pele/plato ; n2 JOIN #pele/plato ; n3 JOIN #pele/plato ; n1/n2 ctrl+c ; [n3 made operator for #pele/plato]
			n1 JOIN #pele,#plato ; n2 JOIN #pele,#plato ; n1 JOIN 0 [n2 made operator for #pele,#plato] ; n2 JOIN 0 [channels removed]
			n1 JOIN #pele,#plato ; n2 JOIN #pele,#plato ; n1 QUIT [n2 made operator for #pele,#plato] ; n2 QUIT [channels removed]
			n1 JOIN #pele ; n2 PART #pele
			JOIN # plato
			JOIN                    #plato
			JOIN #TABplato
			JOIN #plato,,,,,,,,,,,#pele,,,,,,,,#enigma
			JOIN #plato,#plato,#plato,#enigma,#enigma
			JOIN #plato,#Plato,fasco
			JOIN ,,,,,,,,,,,,,,,,,,,,,#pele
			JOIN #pele,,,,,,,,,,,,,,,,,,,,,
			JOIN #,#pele,#plato
			JOIN 0,#plato
			JOIN #JOIN
			JOIN #pele key k k k
			JOIN 0 0 0 0
			JOIN #pele,pele,#

			## invite-only related tests
			n1 JOIN #pele ; n1 MODE #pele +i ; n2 JOIN #pele [invite only]
			n1 JOIN #pele ; n1 MODE #pele +i ; n1 INVITE n2 ; n2 JOIN #pele [n2 joined]
			n1 JOIN #pele ; n1 MODE #pele +i ; n1 INVITE n2 ; n2 JOIN #plato ; n2 JOIN #pele [n2 joined]
			n1 JOIN #pele ; n1 MODE #pele +i ; n1 INVITE n2 ; n2 JOIN #pele ; n2 PART #pele ; n2 JOIN #pele [invitation needed]
			n1 JOIN #pele ; n1 MODE #pele +i ; n1 INVITE n2 ; n2 JOIN #pele ; n1 MODE #pele -i ; n2 PART #pele ; n2 JOIN #pele [n2 joined]
			n1 JOIN #pele ; n1 MODE #pele +i ; n1 INVITE n2 ; n1 MODE #pele -i ; n1 MODE #pele +i ; n2 JOIN #pele [invitation needed]
			n1 JOIN #pele ; n1 MODE #pele +i ; n1 INVITE n2 ; n1 MODE #pele -i ; n2 JOIN #pele [n2 joined]
			n1 JOIN #pele ; n1 MODE #pele +i ; n1 JOIN #plato ; n1 MODE #plato +i ; n2 JOIN #pele,#plato,#pear [n2 joined]

			## member-limit related tests
			n1 JOIN #pele ; n1 MODE #pele +l 1 : n2 JOIN #pele [cannot join +l]
			n1 JOIN #pele ; n1 MODE #pele +l 0 : n2 JOIN #pele [n2 joined]
			n1 JOIN #pele ; n2 JOIN #pele ; n1 MODE #pele +l 1 ; n2 PART #pele; n2 JOIN #pele [cannot join +l]

			## channel-key related test
			n1 JOIN #pele ; n1 MODE #pele +k pass ; n2 JOIN #pele [bad key]
			n1 JOIN #pele ; n1 MODE #pele +k pass ; n2 JOIN #pele letMeIn [bad key]
			n1 JOIN #pele ; n1 MODE #pele +k pass ; n2 JOIN #pele letMeIn,pass [bad key]
			n1 JOIN #pele ; n1 MODE #pele +k pass ; n2 JOIN #pele ,,,,,,, [bad key]
			n1 JOIN #pele ; n1 MODE #pele +k pass ; n1 JOIN #plato ; n1 MODE #plato +k pass ; n2 JOIN #pele,#plato pass [two key needed]


		!!	FAILURE
			n1 JOIN #pele ; n1 MODE #pele [missing RPL_CHANNELMODEIS (causes ERR_NEEDMOREPARAMS)]
			n1 JOIN #pele ; n1 TOPIC #pele :aka malloc : n2 JOIN #pele [TOPIC reply wrong format]
		#limechat
			JOIN #plato,:,#pele

% PART

	- PERFORMED TESTS
		! 	SUCCESS
			PART
			n1 JOIN #pandora ; n1 PART #pandora
			n1 JOIN #pandora ; n1 PART pandora [no such chan]
			PART #pandora      [no such chan + nick as default msg]
			n1 JOIN #pandora ; n2 PART #pandora [not on chan]
			n1 JOIN #pandora ; n1 PART #pandora leaving
			n1 JOIN #pandora ; n1 PART #pandora leaving right now
			n1 JOIN #pandora ; n1 PART #pandora :leaving right now
			PART #pele \n\\\\\\\ ,.,.,. [[[]]]] \\\r\"\t\\n
			JOIN #pele ; PART ,,,,,,,,,,,,#pele,,,,,,,,,
			JOIN #pele ; PART ,,,,,,,,,,,,,,#pele,,,,,,,,,,,,#pele
			PART ,,,,,,,,,,,,
			n1 JOIN #plato,#pele,#pandora ; n2 JOIN #plato,#pele,#pandora ; n1 PART #pele,#plato,#pandora :leaving forever [n2 made operator + message inclusive reply]
			n1 JOIN #plato,#pele,#pandora ; n1 PART #pele,#plato,#pandora leaving forever [channels removed]
			n1 JOIN #pele,#plato ; n2 JOIN #pele ; n2 PART #plato,#plato [leaves #pele + not on chan: #plato + message inclusive rpl]
			PART #,#,,,,,,,,,
			n1 JOIN #pandora ; n1 PART palace,#,#pandora
		!!	FAILURE
		#limechat
			PART #plato,:,#pele
% TOPIC
	# if the channel has the t flag set, only operators of that channel can
	# use TOPIC to set that channel's topic, regular members may still query the topic
	- PERFORMED TESTS
		! 	SUCCESS
			JOIN #pele ; TOPIC #pele [not set]
			TOPIC #
			TOPIC
			TOPIC l a a a a
			TOPIC ,,,,,,,
			n1 JOIN #pele ; n1 TOPIC #pele hello bug ; n2 JOIN #pele
			TOPIC #plato [no such chan]
			n1 JOIN #pele ; n1 TOPIC #pele hello bug ; n2 TOPIC #pele
			TOPIC #pele,
			TOPIC #pele :
			TOPIC #pele :la vie en rose
			TOPIC #pele :la vie en rose ::::
			n1 JOIN #plato ; n2 TOPIC #plato
			n1 JOIN #plato ; n2 TOPIC #plato :not my buisness
			n1 JOIN #pele ; n1 MODE #pele +t ; n2 JOIN #pele ; n2 TOPIC #pele coco [not operator]
			n1 JOIN #pele ; n1 MODE #pele +t ; n2 JOIN #pele ; n1 TOPIC #pele coco [topic updated]
			n1 JOIN #pele ; n1 MODE #pele -t ; n2 JOIN #pele ; n2 TOPIC #pele coco [topic updated]
			n1 JOIN #pele ; n1 MODE #pele +t ; n2 JOIN #pele : n1 MODE #pele +o n2 ; n2 TOPIC #pele setNewTopic [topic updated]

		!!	FAILURE
		#limechat
			TOPIC :
% INVITE
	# when a channel is invite only, only oprators can issue INVITE commands, and only users invited can join
	# so if a channel is invite-only, it has to keep track of the invited users, and reject any oustisders
	# if the channel is no longer invite only, the invited users list is emptied
	# if a user of the invited users joins, their name is removed from the list
	- PERFORMED TESTS
		! 	SUCCESS
			INVITE
			INVITE jk jk jk jk
			INVITE mark
			INVITE mark #pele [no such nick]
			INVITE mark # [no such chan]
			INVITE mark : [no such chan]
			n1 NICK mark; n2 INVITE mark #pele [no such channel]
			n1 JOIN #pele ; n2 NICK mark ; n2 INVITE mark #pele [ur not on chan]
			n1 NICK jack ; n1 JOIN #pele ; n2 INVITE jack #pele [ur not on chan]
			n1 NICK jack ; n1 JOIN #pele ; n2 NICK mark ; n1 INVITE mark #pele [n2 invited]
			n1 JOIN #pele ; n2 NICK mark ; n3 NICK jack ; n1 INVITE mark #pele ; n1 INVITE jack #pele [n2/n3 invited]
			n1 JOIN #pele ; n2 NICK jack ;n2 JOIN #pele ;  n1 INVITE jack [already on chan]
			n1 JOIN #pele ; n2 JOIN #pele ; n3 NICK jack ; n2 INVITE jack #pele
		!!	FAILURE
		#limechat
			how does the invite message appear on reciever's interface
% MODE
	# the invite list is cleared after MODE has unset the invite-only flag
	# a MODE query is only visible to the memebers of the channel
	# a MODE query exposes: the limit set, the channel key
	# perhaps the format of the MODE query is as follows: +flag valueIfThere
	- PERFORMED TESTS
		! 	SUCCESS
		!!	FAILURE
			MODE #pele -l
			MODE #pele +l 0

% PRIVMSG

	- PERFORMED TESTS
		! 	SUCCESS
			
		!!	FAILURE
			
% KICK

	- PERFORMED TESTS
		! 	SUCCESS
		!!	FAILURE

% QUIT

	- PERFORMED TESTS
		! 	SUCCESS
		QUIT
		QUIT goodbye
		QUIT goodbye, see you tomorrow
		!!	FAILURE
